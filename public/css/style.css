@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');

/* --- Global Reset --- */
.tsb-main-wrapper { width: 100%; max-width: 100%; padding: 10px; box-sizing: border-box; font-family: 'Roboto', sans-serif; color: #333; }
.tsb-main-wrapper * { box-sizing: border-box; }

/* --- Stats Bar --- */
.tsb-stats-bar { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; width: 100%; }
.stat-box { background: #fff; padding: 10px 15px; border-radius: 6px; border: 1px solid #eee; flex: 1; min-width: 80px; text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
.stat-box.pl-box { border-left-width: 4px; }
.stat-label { font-size: 10px; color: #888; text-transform: uppercase; display: block; margin-bottom: 4px; }
.stat-val { font-size: 18px; font-weight: 700; line-height: 1.2; background: transparent; }
.green { color: #2e7d32; } .red { color: #c62828; } .blue { color: #1976d2; }

@media (max-width: 600px) {
    .tsb-stats-bar { justify-content: space-between; }
    .stat-box.pl-box { flex: 0 0 100%; margin-bottom: 5px; } /* P/L Full Width on Mobile */
}

/* --- Form Module --- */
.tsb-module { background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 15px; margin-bottom: 20px; }
.form-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #f0f0f0; padding-bottom: 10px; }
.form-header h3 { margin: 0; font-size: 16px; font-weight: 600; color: #333; }
.details-toggle { background: #f5f5f5; border: 1px solid #e0e0e0; font-size: 11px; padding: 4px 10px; border-radius: 4px; cursor: pointer; color: #555; font-weight: 600; }

/* Grid Layout */
@media (min-width: 768px) {
    .form-grid-layout { display: flex; gap: 20px; }
    .form-section-main { flex: 2; border-right: 1px solid #f0f0f0; padding-right: 20px; }
    .form-section-details { flex: 1; }
    .compact-row { display: flex; gap: 10px; margin-bottom: 10px; align-items: flex-end; }
}

/* Mobile Form Stack */
@media (max-width: 767px) {
    .form-grid-layout { display: block; }
    .form-section-main { border-bottom: 1px solid #f0f0f0; padding-bottom: 15px; margin-bottom: 15px; }
    .compact-row { display: flex; flex-direction: column; gap: 10px; margin-bottom: 10px; } /* Stack inputs */
    .col { width: 100%; } /* Full width inputs */
    .col[style*="max-width"] { max-width: 100% !important; } /* Override max-widths on mobile */
}

/* Inputs */
.col { flex: 1; min-width: 0; }
.form-group { margin-bottom: 10px; }
label { display: block; font-size: 11px; font-weight: 600; color: #555; margin-bottom: 4px; }
input, select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 13px; height: 36px; background: #fff; }
input:focus, select:focus { border-color: #2196f3; outline: none; }

/* Buttons */
#submit-trade { width: 100%; height: 36px; background: #2196f3; color: #fff; border: none; border-radius: 4px; font-weight: 700; font-size: 13px; text-transform: uppercase; cursor: pointer; transition: background 0.2s; }
#submit-trade:hover { background: #1976d2; }

.toggle-group { display: flex; gap: 5px; height: 36px; width: 100%; }
.type-btn { flex: 1; height: 100%; border: 1px solid #ddd; background: #f9f9f9; color: #666; font-weight: 700; font-size: 13px; cursor: pointer; border-radius: 4px; transition: 0.2s; margin: 0; }
.type-btn.active { background: #2196f3; color: #fff; border-color: #2196f3; }

/* Details */
.details-content { display: none; background: #fafafa; padding: 10px; border-radius: 4px; border: 1px solid #eee; margin-top: 10px; }

/* Table */
.table-module { padding: 0; overflow: hidden; }
.table-responsive { width: 100%; overflow-x: auto; }
.tsb-table { width: 100%; min-width: 900px; border-collapse: collapse; font-size: 12px; }
.tsb-table th { background: #f8f9fa; padding: 10px 12px; text-align: left; color: #555; border-bottom: 2px solid #eee; white-space: nowrap; }
.tsb-table td { padding: 8px 12px; border-bottom: 1px solid #f0f0f0; vertical-align: middle; color: #333; }
.live-input { width: 50px; padding: 3px; text-align: center; border: 1px solid #ddd; border-radius: 3px; font-size: 11px; }
.status-badge { padding: 2px 6px; background: #eee; border-radius: 3px; font-size: 9px; font-weight: bold; text-transform: uppercase; color: #555; display: inline-block; margin-top: 3px; }
.high-btn { border: none; background: none; font-size: 14px; cursor: pointer; margin-left: 4px; }
.delete-row { border: none; background: #ffebee; color: #c62828; width: 20px; height: 20px; border-radius: 50%; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; }
.btn-tiny { padding: 4px 8px; font-size: 10px; border: none; border-radius: 3px; background: #e4e6eb; color: #333; cursor: pointer; margin-right: 2px; font-weight: 500; }
.btn-tiny[disabled] { opacity: 0.5; cursor: not-allowed; }
.btn-tiny[data-type="SL"] { background: #ffebee; color: #c62828; }
.btn-tiny[data-type^="T"] { background: #e8f5e9; color: #2e7d32; }
.tsb-toast { position: fixed; bottom: 20px; right: 20px; background: #333; color: #fff; padding: 10px 20px; border-radius: 4px; display: none; z-index: 99999; font-size: 13px; }